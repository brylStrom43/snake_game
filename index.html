<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SnakeMania</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="site-header">
    <a href="index.html" class="brand">
      <svg class="brand-mark" width="36" height="36" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0" stop-color="#7c5cff"/>
            <stop offset="1" stop-color="#00c2a8"/>
          </linearGradient>
        </defs>
        <rect x="2" y="2" width="20" height="20" rx="5" fill="url(#g)"/>
        <path d="M7 13c1.5-2 4-2 6.5-1" stroke="#fff" stroke-width="1.2" stroke-linecap="round" fill="none"/>
      </svg>
      <span class="brand-title">SnakeMania</span>
      <span class="brand-tag">play • relax • compete</span>
    </a>

    <nav class="site-nav">
      <a href="dashboard.html" class="nav-link">Dashboard</a>
      <a href="game.html" class="nav-link">Play</a>
    </nav>
  </header>

  <main class="entry-container">
    <div class="login-box">
      <h1 id="entryTitle" class="entry-title">Welcome</h1>

      <label for="playerName" class="label">Enter your name</label>
      <input id="playerName" type="text" placeholder="Player_01" aria-label="Player name" />
      <div id="nameHelp" class="help-text">Use letters, numbers or underscore (3–16 chars).</div>

      <div class="login-actions">
        <button id="playBtn" class="btn btn-primary" disabled>Play</button>
      </div>
    </div>
  </main>

<script>
(function(){
    const NAME_RE = /^[A-Za-z0-9_]{3,16}$/;
    const nameInput = document.getElementById('playerName');
    const playBtn = document.getElementById('playBtn');
    const help = document.getElementById('nameHelp');
    const entryTitle = document.getElementById('entryTitle');

    function updateEntryTitle(name){
        entryTitle.textContent = name ? 'Welcome, ' + name : 'Welcome';
    }

    nameInput.addEventListener('input', ()=>{
        const val = nameInput.value.trim();
        if(NAME_RE.test(val)){
            // remove the "name looks good" feedback entirely — hide the helper when valid
            help.style.display = 'none';
            playBtn.disabled = false;
            updateEntryTitle(val);
        } else {
            help.style.display = 'block';
            help.textContent = 'Use letters, numbers or underscore (3–16 chars).';
            playBtn.disabled = true;
            updateEntryTitle('');
        }
    });

    playBtn.addEventListener('click', ()=>{
        const player = nameInput.value.trim();
        if(!NAME_RE.test(player)) return;
        try { sessionStorage.setItem('snake_player', player); } catch(e){ /* ignore */ }
        window.location.href = 'game.html';
    });

})();
</script>
</body>
</html>
